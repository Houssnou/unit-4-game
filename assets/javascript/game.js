var counter = 0;
var number = 0;
var wins = 0;
var losses = 0;
//crystalValues to store the random values 
var crystalValues = [];

//var number to guess generated by the computer
number = Math.floor(Math.random() * 120) + 19;
console.log(number);
//display the number to guess when the page loads.
$("#number").text(number);

function resetGame() {
  //setting the variables at 0 except wins and losses that will keep record of the user wins or losses
  crystalValues = [];
  counter = 0;
  $("#total").empty();

  //generates a new random number again
  number = Math.floor(Math.random() * 120) + 19;
  //display the number to guess before creating the images link
  $("#number").text(number);
};


//loop to create the cristal images with their random values
for (var i = 0; i < 4; i++) {

  //For each iteration, we will create an crystal value
  crystalValues[i] = Math.floor(Math.random() * 12) + 1;

  // For each iteration, we will create an imageCrystal 
  var imageCrystal = $("<img>");

  //adding the class img-thumbnail
  imageCrystal.addClass("img-thumbnail");

  // variable that containts the src of the crystal image
  var imageCrystalSrc = "assets/images/" + i + ".jpg";
  console.log(imageCrystalSrc);

  // imageCrystal will be given a src link to the crystal image
  imageCrystal.attr("src", imageCrystalSrc);

  // Each imageCrystal will be given a data attribute called data-crystalValue.
  // This data attribute will be set equal to the array value.
  imageCrystal.attr("data-crystalvalue", crystalValues[i]);

  // Lastly, each crystal image (with all it classes and attributes) will get added to the page under the crystal row section
  $("#crystalrow").append(imageCrystal);

}
//console log of the values of the crystal values 
console.log(crystalValues.join("|"));

//event listener for a click on a crystal image 
$(".img-thumbnail").on("click", function () {

  var crystalValue = $(this).attr("data-crystalvalue");
  //crystalValue

  // add the value of the crystal (crstalvalue) to counter
  crystalValue = parseInt(crystalValue);
  counter += crystalValue;

  //display the value of counter on the page
  $("#total").text(counter);
  //game logic if the counter is eaqual to the random number to guess against
  if (counter === number) {
    wins++;  // then increment wins display its value and load a new game
    $("#wins").text(wins);
    resetGame();
  } else if (counter > number) {  // else if the counter is sup to the random number then increment losses and display 
    losses++; 
    $("#losses").text(losses);
    resetGame();       // load a new game after the user lose
  }
});